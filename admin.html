<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Admin | Cripto Inversiones</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="dashboard-logo">üîß Panel de Administraci√≥n</div>
            <div class="dashboard-user">
                <button class="btn btn-outline btn-logout" onclick="logout()">Salir</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="dashboard-nav">
            <ul class="nav-list">
                <li><a href="#" onclick="showSection('stats')" class="active">Estad√≠sticas</a></li>
                <li><a href="#" onclick="showSection('investments')">Inversiones</a></li>
                <li><a href="#" onclick="showSection('users')">Usuarios</a></li>
                <li><a href="#" onclick="showSection('returns')">Porcentajes de Retorno</a></li>
                <li><a href="#" onclick="showSection('config')">Configuraci√≥n</a></li>
            </ul>
        </nav>

        <!-- Content -->
        <main class="dashboard-content">
            <!-- Stats Section -->
            <div id="statsSection" class="admin-section">
                <div class="content-card">
                    <h2>üìä Estad√≠sticas Generales</h2>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Total Usuarios</span>
                                <span class="stat-icon">üë•</span>
                            </div>
                            <div class="stat-value" id="totalUsers">0</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Total Inversiones</span>
                                <span class="stat-icon">üíº</span>
                            </div>
                            <div class="stat-value" id="totalInvestments">0</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Capital Total</span>
                                <span class="stat-icon">üí∞</span>
                            </div>
                            <div class="stat-value" id="totalCapital">$0.00</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <span class="stat-label">Inversiones Pendientes</span>
                                <span class="stat-icon">‚è≥</span>
                            </div>
                            <div class="stat-value" id="pendingInvestments">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Investments Section -->
            <div id="investmentsSection" class="admin-section" style="display: none;">
                <div class="content-card">
                    <h2>üíº Gesti√≥n de Inversiones</h2>
                    <p style="color: var(--text-gray); margin-bottom: 2rem;">
                        Administra y actualiza el estado de las inversiones
                    </p>

                    <div style="margin-bottom: 1.5rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button class="btn btn-outline" onclick="filterAdminInvestments('all')" id="adminFilterAll">Todas</button>
                        <button class="btn btn-outline" onclick="filterAdminInvestments('pending')" id="adminFilterPending">Pendientes</button>
                        <button class="btn btn-outline" onclick="filterAdminInvestments('active')" id="adminFilterActive">Activas</button>
                        <button class="btn btn-outline" onclick="filterAdminInvestments('completed')" id="adminFilterCompleted">Completadas</button>
                    </div>

                    <div class="table-container">
                        <table class="investment-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usuario</th>
                                    <th>Activo</th>
                                    <th>Monto USD</th>
                                    <th>Cripto</th>
                                    <th>Estado</th>
                                    <th>Fecha</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="adminInvestmentsTable">
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 2rem;">
                                        Cargando...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Users Section -->
            <div id="usersSection" class="admin-section" style="display: none;">
                <div class="content-card">
                    <h2>üë• Gesti√≥n de Usuarios</h2>

                    <div class="table-container">
                        <table class="investment-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Tel√©fono</th>
                                    <th>Inversiones</th>
                                    <th>Capital Total</th>
                                    <th>Registro</th>
                                </tr>
                            </thead>
                            <tbody id="usersTable">
                                <tr>
                                    <td colspan="7" style="text-align: center; padding: 2rem;">
                                        Cargando...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Returns Configuration Section -->
            <div id="returnsSection" class="admin-section" style="display: none;">
                <div class="content-card">
                    <h2>üìä Configuraci√≥n de Porcentajes de Retorno</h2>
                    <p style="color: var(--text-gray); margin-bottom: 2rem;">
                        Ajusta los porcentajes de retorno anual, duraci√≥n y monto m√≠nimo para cada tipo de activo.
                        <strong style="color: var(--primary-gold);">Los cambios afectan solo a nuevas inversiones.</strong>
                    </p>

                    <div id="assetConfigGrid" style="display: grid; gap: 2rem; margin-bottom: 2rem;">
                        <!-- Gold Configuration -->
                        <div class="content-card" style="background: rgba(255, 215, 0, 0.05); border-color: var(--primary-gold);">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                                <span style="font-size: 3rem;">ü™ô</span>
                                <div>
                                    <h3 style="margin: 0;">Oro y Minerales Preciosos</h3>
                                    <p style="color: var(--text-gray); margin: 0.25rem 0 0 0; font-size: 0.875rem;">Metales Preciosos</p>
                                </div>
                            </div>

                            <div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                <div class="form-group">
                                    <label>Retorno Anual (%)</label>
                                    <input type="number" id="goldReturn" step="0.1" min="0" max="100" placeholder="15">
                                </div>
                                <div class="form-group">
                                    <label>Duraci√≥n (meses)</label>
                                    <input type="number" id="goldDuration" min="1" max="120" placeholder="12">
                                </div>
                                <div class="form-group">
                                    <label>Inversi√≥n M√≠nima (BTC)</label>
                                    <input type="number" id="goldMinInvestment" step="0.001" min="0" placeholder="0.1">
                                </div>
                            </div>
                        </div>

                        <!-- Oil Configuration -->
                        <div class="content-card" style="background: rgba(255, 215, 0, 0.05); border-color: var(--primary-gold);">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                                <span style="font-size: 3rem;">‚ö°</span>
                                <div>
                                    <h3 style="margin: 0;">Petr√≥leo y Derivados</h3>
                                    <p style="color: var(--text-gray); margin: 0.25rem 0 0 0; font-size: 0.875rem;">Energ√≠a</p>
                                </div>
                            </div>

                            <div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                <div class="form-group">
                                    <label>Retorno Anual (%)</label>
                                    <input type="number" id="oilReturn" step="0.1" min="0" max="100" placeholder="22">
                                </div>
                                <div class="form-group">
                                    <label>Duraci√≥n (meses)</label>
                                    <input type="number" id="oilDuration" min="1" max="120" placeholder="18">
                                </div>
                                <div class="form-group">
                                    <label>Inversi√≥n M√≠nima (BTC)</label>
                                    <input type="number" id="oilMinInvestment" step="0.001" min="0" placeholder="0.5">
                                </div>
                            </div>
                        </div>

                        <!-- Silver Configuration -->
                        <div class="content-card" style="background: rgba(255, 215, 0, 0.05); border-color: var(--primary-gold);">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                                <span style="font-size: 3rem;">üíé</span>
                                <div>
                                    <h3 style="margin: 0;">Plata y Metales Estrat√©gicos</h3>
                                    <p style="color: var(--text-gray); margin: 0.25rem 0 0 0; font-size: 0.875rem;">Metales Estrat√©gicos</p>
                                </div>
                            </div>

                            <div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                <div class="form-group">
                                    <label>Retorno Anual (%)</label>
                                    <input type="number" id="silverReturn" step="0.1" min="0" max="100" placeholder="18">
                                </div>
                                <div class="form-group">
                                    <label>Duraci√≥n (meses)</label>
                                    <input type="number" id="silverDuration" min="1" max="120" placeholder="12">
                                </div>
                                <div class="form-group">
                                    <label>Inversi√≥n M√≠nima (BTC)</label>
                                    <input type="number" id="silverMinInvestment" step="0.001" min="0" placeholder="0.08">
                                </div>
                            </div>
                        </div>

                        <!-- Materials Configuration -->
                        <div class="content-card" style="background: rgba(255, 215, 0, 0.05); border-color: var(--primary-gold);">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                                <span style="font-size: 3rem;">üè≠</span>
                                <div>
                                    <h3 style="margin: 0;">Materiales Industriales</h3>
                                    <p style="color: var(--text-gray); margin: 0.25rem 0 0 0; font-size: 0.875rem;">Commodities</p>
                                </div>
                            </div>

                            <div style="display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                <div class="form-group">
                                    <label>Retorno Anual (%)</label>
                                    <input type="number" id="materialsReturn" step="0.1" min="0" max="100" placeholder="12">
                                </div>
                                <div class="form-group">
                                    <label>Duraci√≥n (meses)</label>
                                    <input type="number" id="materialsDuration" min="1" max="120" placeholder="24">
                                </div>
                                <div class="form-group">
                                    <label>Inversi√≥n M√≠nima (BTC)</label>
                                    <input type="number" id="materialsMinInvestment" step="0.001" min="0" placeholder="0.2">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; padding: 2rem; background: rgba(255, 215, 0, 0.05); border-radius: 10px; margin-bottom: 1.5rem;">
                        <p style="color: var(--text-gray); margin-bottom: 1rem;">
                            ‚ö†Ô∏è <strong>Importante:</strong> Los cambios en los porcentajes solo afectar√°n a las nuevas inversiones.
                            Las inversiones activas mantendr√°n sus porcentajes originales.
                        </p>
                    </div>

                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button class="btn btn-primary" onclick="saveReturnsConfiguration()" style="padding: 1rem 3rem;">
                            üíæ Guardar Configuraci√≥n
                        </button>
                        <button class="btn btn-outline" onclick="loadReturnsConfiguration()" style="padding: 1rem 3rem;">
                            üîÑ Recargar Valores
                        </button>
                    </div>
                </div>
            </div>

            <!-- Config Section -->
            <div id="configSection" class="admin-section" style="display: none;">
                <div class="content-card">
                    <h2>‚öôÔ∏è Configuraci√≥n</h2>

                    <h3>Direcciones de Wallet</h3>
                    <p style="color: var(--text-gray); margin-bottom: 1.5rem;">
                        Configura las direcciones de wallet para recibir pagos
                    </p>

                    <div class="form-group">
                        <label>Bitcoin (BTC)</label>
                        <input type="text" id="walletBTC" placeholder="Direcci√≥n Bitcoin" style="font-family: monospace;">
                    </div>

                    <div class="form-group">
                        <label>Ethereum (ETH)</label>
                        <input type="text" id="walletETH" placeholder="Direcci√≥n Ethereum" style="font-family: monospace;">
                    </div>

                    <div class="form-group">
                        <label>USDT (TRC-20)</label>
                        <input type="text" id="walletUSDT" placeholder="Direcci√≥n USDT" style="font-family: monospace;">
                    </div>

                    <div class="form-group">
                        <label>USDC (ERC-20)</label>
                        <input type="text" id="walletUSDC" placeholder="Direcci√≥n USDC" style="font-family: monospace;">
                    </div>

                    <div class="form-group">
                        <label>Binance Coin (BNB)</label>
                        <input type="text" id="walletBNB" placeholder="Direcci√≥n BNB" style="font-family: monospace;">
                    </div>

                    <button class="btn btn-primary" onclick="saveWalletConfig()">
                        Guardar Configuraci√≥n
                    </button>

                    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255, 215, 0, 0.2);">
                        <h3>Herramientas</h3>
                        <button class="btn btn-secondary" onclick="generateDemoData()">
                            üé≤ Generar Datos de Prueba
                        </button>
                        <button class="btn btn-outline" onclick="clearAllData()" style="margin-left: 1rem;">
                            üóëÔ∏è Limpiar Todos los Datos
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="auth.js"></script>
    <script src="app.js"></script>
    <script>
        let currentAdminFilter = 'all';
        let allAdminInvestments = [];

        document.addEventListener('DOMContentLoaded', () => {
            loadAdminData();
            loadWalletConfig();
            loadReturnsConfiguration();
        });

        function loadAdminData() {
            const stats = getUserStats();

            document.getElementById('totalUsers').textContent = stats.totalUsers;
            document.getElementById('totalInvestments').textContent = stats.totalInvestments;
            document.getElementById('totalCapital').textContent = formatCurrency(stats.totalInvestedUSD);
            document.getElementById('pendingInvestments').textContent = stats.pendingInvestments;

            allAdminInvestments = getAllInvestments();
            displayAdminInvestments();
            displayUsers();
        }

        function showSection(section) {
            document.querySelectorAll('.admin-section').forEach(s => s.style.display = 'none');
            document.querySelectorAll('.nav-list a').forEach(a => a.classList.remove('active'));

            document.getElementById(`${section}Section`).style.display = 'block';
            event.target.classList.add('active');

            if (section === 'stats') loadAdminData();
        }

        function filterAdminInvestments(filter) {
            currentAdminFilter = filter;
            displayAdminInvestments();

            document.querySelectorAll('[id^="adminFilter"]').forEach(btn => {
                btn.style.background = '';
                btn.style.color = '';
            });

            const activeBtn = document.getElementById(`adminFilter${filter.charAt(0).toUpperCase() + filter.slice(1)}`);
            if (activeBtn) {
                activeBtn.style.background = 'var(--primary-gold)';
                activeBtn.style.color = 'var(--primary-dark)';
            }
        }

        function displayAdminInvestments() {
            const tbody = document.getElementById('adminInvestmentsTable');
            const users = getAllUsers();

            let filtered = currentAdminFilter === 'all' ?
                allAdminInvestments :
                allAdminInvestments.filter(inv => inv.status === currentAdminFilter);

            if (filtered.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" style="text-align: center; padding: 2rem;">No hay inversiones para mostrar</td></tr>';
                return;
            }

            tbody.innerHTML = filtered.map(inv => {
                const user = users.find(u => u.id === inv.userId);
                return `
                    <tr>
                        <td><code style="font-size: 0.75rem;">${inv.id.substring(0, 10)}...</code></td>
                        <td>${user ? user.name : 'Desconocido'}<br>
                            <span style="font-size: 0.875rem; color: var(--text-gray);">${user ? user.email : '-'}</span>
                        </td>
                        <td><strong>${inv.assetName}</strong></td>
                        <td>${formatCurrency(inv.amountUSD)}</td>
                        <td>${inv.amountCrypto} ${inv.cryptoType}</td>
                        <td><span class="status-badge status-${inv.status}">${getStatusText(inv.status)}</span></td>
                        <td>${formatDate(inv.createdAt)}</td>
                        <td>
                            ${inv.status === 'pending' ? `
                                <button class="btn btn-primary" onclick="activateInvestment('${inv.id}')" style="padding: 6px 12px; font-size: 0.875rem;">
                                    ‚úÖ Activar
                                </button>
                            ` : inv.status === 'active' ? `
                                <button class="btn btn-outline" onclick="viewInvestmentAdmin('${inv.id}')" style="padding: 6px 12px; font-size: 0.875rem;">
                                    üìä Ver
                                </button>
                            ` : `
                                <button class="btn btn-outline" onclick="viewInvestmentAdmin('${inv.id}')" style="padding: 6px 12px; font-size: 0.875rem;">
                                    Ver
                                </button>
                            `}
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function displayUsers() {
            const tbody = document.getElementById('usersTable');
            const users = getAllUsers();
            const investments = getAllInvestments();

            tbody.innerHTML = users.map(user => {
                const userInvestments = investments.filter(inv => inv.userId === user.id);
                const totalCapital = userInvestments.reduce((sum, inv) => sum + inv.amountUSD, 0);

                return `
                    <tr>
                        <td><code style="font-size: 0.75rem;">${user.id.substring(0, 10)}...</code></td>
                        <td><strong>${user.name}</strong></td>
                        <td>${user.email}</td>
                        <td>${user.phone || 'N/A'}</td>
                        <td>${userInvestments.length}</td>
                        <td>${formatCurrency(totalCapital)}</td>
                        <td>${formatDate(user.registeredAt)}</td>
                    </tr>
                `;
            }).join('');
        }

        function activateInvestment(investmentId) {
            if (!confirm('¬øConfirmar la activaci√≥n de esta inversi√≥n?\n\nEsto iniciar√° el conteo de retornos y pagos mensuales.')) {
                return;
            }

            updateInvestmentStatus(investmentId, 'active');
            showNotification('Inversi√≥n activada exitosamente', 'success');
            loadAdminData();
        }

        function viewInvestmentAdmin(investmentId) {
            const investment = allAdminInvestments.find(inv => inv.id === investmentId);
            if (!investment) return;

            alert(`ID: ${investment.id}\n` +
                  `Activo: ${investment.assetName}\n` +
                  `Monto: ${formatCurrency(investment.amountUSD)}\n` +
                  `Estado: ${getStatusText(investment.status)}\n` +
                  `Hash TX: ${investment.transactionHash || 'N/A'}`);
        }

        function loadWalletConfig() {
            document.getElementById('walletBTC').value = WALLET_ADDRESSES.BTC;
            document.getElementById('walletETH').value = WALLET_ADDRESSES.ETH;
            document.getElementById('walletUSDT').value = WALLET_ADDRESSES.USDT;
            document.getElementById('walletUSDC').value = WALLET_ADDRESSES.USDC;
            document.getElementById('walletBNB').value = WALLET_ADDRESSES.BNB;
        }

        function saveWalletConfig() {
            const newAddresses = {
                BTC: document.getElementById('walletBTC').value.trim(),
                ETH: document.getElementById('walletETH').value.trim(),
                USDT: document.getElementById('walletUSDT').value.trim(),
                USDC: document.getElementById('walletUSDC').value.trim(),
                BNB: document.getElementById('walletBNB').value.trim()
            };

            // In production, save to backend
            // For now, update the global variable
            Object.assign(WALLET_ADDRESSES, newAddresses);
            localStorage.setItem('walletAddresses', JSON.stringify(newAddresses));

            showNotification('Configuraci√≥n guardada. Actualiza app.js con las nuevas direcciones.', 'success');
        }

        function generateDemoData() {
            if (!confirm('¬øGenerar datos de prueba? Esto crear√° un usuario demo con inversiones de ejemplo.')) {
                return;
            }

            // Create demo user
            const demoUser = {
                id: generateUserId(),
                name: 'Juan Demo',
                email: 'demo@ejemplo.com',
                phone: '+58 412-1234567',
                password: 'demo123',
                registeredAt: new Date().toISOString(),
                kycVerified: false,
                role: 'user'
            };

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            users.push(demoUser);
            localStorage.setItem('users', JSON.stringify(users));

            // Create demo investments
            for (let i = 0; i < 3; i++) {
                generateDemoInvestment(demoUser.id);
            }

            showNotification('Datos de prueba creados. Usuario: demo@ejemplo.com / Pass: demo123', 'success');
            loadAdminData();
        }

        function clearAllData() {
            if (!confirm('‚ö†Ô∏è ADVERTENCIA: Esto eliminar√° TODOS los datos (usuarios e inversiones).\n\n¬øEst√°s seguro?')) {
                return;
            }

            if (!confirm('¬øREALMENTE est√°s seguro? Esta acci√≥n NO se puede deshacer.')) {
                return;
            }

            localStorage.removeItem('users');
            localStorage.removeItem('investments');
            localStorage.removeItem('currentUser');

            showNotification('Todos los datos han sido eliminados', 'success');
            setTimeout(() => {
                window.location.reload();
            }, 2000);
        }

        // ===================================
        // Returns Configuration Functions
        // ===================================

        function loadReturnsConfiguration() {
            const configs = getAssetConfigurations();

            // Load gold config
            document.getElementById('goldReturn').value = configs.gold.expectedReturn;
            document.getElementById('goldDuration').value = configs.gold.duration;
            document.getElementById('goldMinInvestment').value = configs.gold.minInvestment;

            // Load oil config
            document.getElementById('oilReturn').value = configs.oil.expectedReturn;
            document.getElementById('oilDuration').value = configs.oil.duration;
            document.getElementById('oilMinInvestment').value = configs.oil.minInvestment;

            // Load silver config
            document.getElementById('silverReturn').value = configs.silver.expectedReturn;
            document.getElementById('silverDuration').value = configs.silver.duration;
            document.getElementById('silverMinInvestment').value = configs.silver.minInvestment;

            // Load materials config
            document.getElementById('materialsReturn').value = configs.materials.expectedReturn;
            document.getElementById('materialsDuration').value = configs.materials.duration;
            document.getElementById('materialsMinInvestment').value = configs.materials.minInvestment;
        }

        function saveReturnsConfiguration() {
            // Gather all configurations
            const configs = {
                gold: {
                    expectedReturn: parseFloat(document.getElementById('goldReturn').value),
                    duration: parseInt(document.getElementById('goldDuration').value),
                    minInvestment: parseFloat(document.getElementById('goldMinInvestment').value)
                },
                oil: {
                    expectedReturn: parseFloat(document.getElementById('oilReturn').value),
                    duration: parseInt(document.getElementById('oilDuration').value),
                    minInvestment: parseFloat(document.getElementById('oilMinInvestment').value)
                },
                silver: {
                    expectedReturn: parseFloat(document.getElementById('silverReturn').value),
                    duration: parseInt(document.getElementById('silverDuration').value),
                    minInvestment: parseFloat(document.getElementById('silverMinInvestment').value)
                },
                materials: {
                    expectedReturn: parseFloat(document.getElementById('materialsReturn').value),
                    duration: parseInt(document.getElementById('materialsDuration').value),
                    minInvestment: parseFloat(document.getElementById('materialsMinInvestment').value)
                }
            };

            // Validate
            let valid = true;
            Object.keys(configs).forEach(key => {
                if (isNaN(configs[key].expectedReturn) || configs[key].expectedReturn < 0 || configs[key].expectedReturn > 100) {
                    showNotification(`Error: Retorno de ${key} debe estar entre 0 y 100`, 'error');
                    valid = false;
                }
                if (isNaN(configs[key].duration) || configs[key].duration < 1) {
                    showNotification(`Error: Duraci√≥n de ${key} debe ser mayor a 0`, 'error');
                    valid = false;
                }
                if (isNaN(configs[key].minInvestment) || configs[key].minInvestment < 0) {
                    showNotification(`Error: Inversi√≥n m√≠nima de ${key} debe ser mayor o igual a 0`, 'error');
                    valid = false;
                }
            });

            if (!valid) return;

            // Save
            if (saveAssetConfigurations(configs)) {
                showNotification('‚úÖ Configuraci√≥n de retornos guardada exitosamente. Los cambios aplicar√°n a nuevas inversiones.', 'success');

                // Show summary
                setTimeout(() => {
                    const summary = `
üìä Resumen de Configuraci√≥n:
‚Ä¢ Oro: ${configs.gold.expectedReturn}% anual (${configs.gold.duration} meses)
‚Ä¢ Petr√≥leo: ${configs.oil.expectedReturn}% anual (${configs.oil.duration} meses)
‚Ä¢ Plata: ${configs.silver.expectedReturn}% anual (${configs.silver.duration} meses)
‚Ä¢ Materiales: ${configs.materials.expectedReturn}% anual (${configs.materials.duration} meses)
                    `.trim();
                    alert(summary);
                }, 500);
            } else {
                showNotification('Error al guardar la configuraci√≥n', 'error');
            }
        }
    </script>
</body>
</html>